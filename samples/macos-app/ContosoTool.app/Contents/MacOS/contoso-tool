#!/bin/bash
#
# Contoso Configuration Tool
# Sample application for demonstrating macOS package creation
#

APP_NAME="Contoso Configuration Tool"
VERSION="1.0.0"
CONFIG_DIR="$HOME/.contoso"

echo "=========================================="
echo "$APP_NAME v$VERSION"
echo "=========================================="
echo ""

# Create configuration directory if it doesn't exist
if [ ! -d "$CONFIG_DIR" ]; then
    echo "Creating configuration directory: $CONFIG_DIR"
    mkdir -p "$CONFIG_DIR"
fi

# Write default configuration
CONFIG_FILE="$CONFIG_DIR/config.json"
if [ ! -f "$CONFIG_FILE" ]; then
    echo "Writing default configuration..."
    cat > "$CONFIG_FILE" << 'EOF'
{
    "app_name": "Contoso Configuration Tool",
    "version": "1.0.0",
    "settings": {
        "auto_update": true,
        "telemetry_enabled": false,
        "log_level": "info"
    }
}
EOF
    echo "Configuration saved to: $CONFIG_FILE"
else
    echo "Configuration already exists: $CONFIG_FILE"
fi

echo ""
echo "Installation complete!"
echo "=========================================="
